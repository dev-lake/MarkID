# 范例数据功能说明

## 功能概述

应用在首次安装时会自动添加一条身份证范例数据，帮助用户了解应用的使用方法。

## 实现细节

### 1. 应用初始化器 (`lib/utils/app_initializer.dart`)

- **首次启动检测**: 使用 `SharedPreferences` 检测应用是否首次启动
- **范例数据管理**: 确保范例数据只在首次启动时添加一次
- **状态管理**: 分别管理首次启动状态和范例数据添加状态

### 2. 范例数据内容

#### 身份证范例
- **证件类型**: 身份证
- **证件号码**: 110101199001011234
- **持有人姓名**: 张三
- **标签**: 重要证件, 身份证
- **备注**: 这是您的身份证正反面照片，请妥善保管。
- **拍摄时间**: 30天前
- **图片**: 身份证正反面骨架图（400x250像素）
  - **正面**: 包含照片区域、姓名、性别、民族、出生日期、住址、身份证号码等信息
  - **反面**: 包含签发机关、有效期限、签发日期等信息

### 3. 技术实现

#### 依赖添加
```yaml
dependencies:
  shared_preferences: ^2.2.2
```

#### 核心方法
- `AppInitializer.isFirstLaunch()`: 检测是否首次启动
- `AppInitializer.initializeApp()`: 执行应用初始化
- `AppInitializer._addSampleData()`: 添加范例数据
- `AppInitializer.resetAppState()`: 重置应用状态（用于测试）

#### 集成点
- `DocumentProvider.initialize()`: 在数据提供者初始化时调用
- `DocumentListScreen.initState()`: 在页面加载时触发初始化

### 4. 测试验证

创建了完整的测试套件 (`test/app_initializer_test.dart`) 来验证：
- 首次启动检测功能
- 范例数据添加状态管理
- 应用初始化流程

## 使用说明

### 对于用户
1. 首次安装应用后，打开应用
2. 应用会自动添加一条身份证范例数据
3. 用户可以看到这个范例数据，了解应用的功能
4. 用户可以编辑、删除或保留这个范例数据

### 对于开发者
1. 范例数据只在首次启动时添加
2. 使用 `AppInitializer.resetAppState()` 可以重置状态进行测试
3. 范例数据使用身份证正反面骨架图（400x250像素）作为示例图片
4. 所有范例数据都包含完整的元数据信息

## 注意事项

1. **数据持久化**: 使用 `SharedPreferences` 确保状态在应用重启后保持
2. **性能优化**: 范例数据只在首次启动时创建，避免重复操作
3. **错误处理**: 包含完整的异常处理，确保应用稳定性
4. **测试覆盖**: 提供完整的单元测试确保功能正确性

## 扩展建议

1. **多语言支持**: 可以根据用户语言设置调整范例数据内容
2. **自定义范例**: 允许用户选择不同类型的范例数据
3. **云端同步**: 范例数据可以存储在云端，支持多设备同步
4. **用户引导**: 结合范例数据提供详细的使用教程 